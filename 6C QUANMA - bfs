#include<bits/stdc++.h>
#define lon(x, y) ((x > y) ? x : y)
#define be(x, y) ((x < y) ? x : y)
#define ll long long
using namespace std;

int n, m, x1, y11, x2, y2, d[1004][1004];
queue<int> xq, yq;
bool vis[1004][1004];

int h[] = {8, -2, -2, -1, 1, 2, 2, 1, -1}, v[] = {8, -1, 1, 2, 2, 1, -1, -2, -2};
void loang()
{
    xq.push(x1), yq.push(y11);
    vis[x1][y11] = true;
    while(!xq.empty() && !yq.empty())
    {
        int x = xq.front(), y = yq.front();
        xq.pop();
        yq.pop();
        for(int i = 1; i <= 8; i++)
        {
            int a = x + h[i], b = y + v[i];
            if(a < 3 || b < 3 || a > n + 2 || b > m + 2) continue;
            if(a == x2 && b == y2)
            {
                cout << d[x][y] + 1;
                exit(0);
            }
            else if(!vis[a][b])
            {
                vis[a][b] = true;
                xq.push(a);
                yq.push(b);
                d[a][b] = d[x][y] + 1;
            }
        }
    }
    cout << -1;
}

main()
{
	ios::sync_with_stdio(0);
	cin.tie(0);

    cin >> n >> m >> x1 >> y11 >> x2 >> y2;
    x1 += 2;
    y11 += 2;
    x2 += 2;
    y2 += 2;
    for(int i = 0; i <= n + 3; i++)
        for(int j = 0; j <= m + 3; j++)
            vis[i][j] = false;
    if(x1 == x2 && y11 == y2) cout << 0;
    else loang();
}
